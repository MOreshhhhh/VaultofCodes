<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Editkaro.in — Portfolio (Best UI)</title>
<meta name="description" content="Editkaro.in — portfolio: reels, ads, montages, color grading. Single-file, minimal cinematic UI." />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect rx='18' width='100' height='100' fill='%23ff5a5f'/><text x='50' y='60' font-size='44' text-anchor='middle' fill='%23071018' font-family='Arial'>EK</text></svg>">
<style>
  /* =========================
     Theme / base
     ========================= */
  :root{
    --bg:#04060b;
    --panel:#0d1115;
    --muted:#9aa3b2;
    --accent-1:#ff5a5f;
    --accent-2:#ff8a5f;
    --glass:rgba(255,255,255,0.03);
    --radius:14px;
    --max-width:1200px;
    --gap:18px;
    --nav-h:72px;
  }
  html{scroll-behavior:smooth}
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background:radial-gradient(1200px 600px at 10% 10%, rgba(255,90,95,0.04), transparent 6%),
               radial-gradient(1000px 450px at 90% 90%, rgba(255,138,95,0.03), transparent 6%),
               var(--bg);
    color:#e8eef6;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    padding-top:4px;
  }
  a{color:inherit}

  /* layout wrapper */
  .wrap{max-width:var(--max-width); margin:0 auto; padding:18px;}

  /* small helper */
  .muted{color:var(--muted)}

  /* =========================
     Progress bar + header
     ========================= */
  .progress{position:fixed;left:0;top:0;height:4px;width:0;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));z-index:9999}
  header{
    position:sticky; top:4px; z-index:999; display:flex; align-items:center; justify-content:space-between; gap:16px;
    padding:12px 0; transition:backdrop-filter .28s, background .28s, box-shadow .28s;
  }
  header.scrolled{background:rgba(7,12,18,0.36); backdrop-filter:blur(8px); box-shadow:0 8px 32px rgba(2,6,23,0.45)}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{
    width:56px;height:56px;border-radius:12px;display:grid;place-items:center;
    background:linear-gradient(135deg,var(--accent-1),var(--accent-2)); color:#071018; font-weight:800;
    box-shadow:0 10px 30px rgba(255,90,95,0.12)
  }
  .title{font-weight:700}
  nav{display:flex;gap:10px;align-items:center}
  .nav-btn{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:999px;color:var(--muted);cursor:pointer}
  .cta{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#071018;padding:9px 14px;border-radius:10px;border:none;font-weight:700;cursor:pointer;box-shadow:0 8px 28px rgba(255,90,95,0.12)}

  /* =========================
     Loader: cinematic logo + text reveal
     ========================= */
  #loader{position:fixed;inset:0;display:grid;place-items:center;background:#071018;z-index:10000}
  #loader .inner{display:flex;gap:14px;align-items:center}
  .loader-square{width:88px;height:88px;border-radius:16px;background:linear-gradient(135deg,var(--accent-1),var(--accent-2));display:grid;place-items:center;font-weight:900;color:#071018;font-size:22px}
  .loader-text{color:#fff;font-weight:700;font-size:18px}
  .loader-sub{color:rgba(255,255,255,0.85);font-size:13px;margin-top:6px}

  /* hide loader after animation (class toggled by JS) */
  #loader.hidden{opacity:0;pointer-events:none;transition:opacity .45s}

  /* =========================
     HERO (fullscreen-ish) — animated shapes instead of external video
     ========================= */
  .hero{
    position:relative;border-radius:18px;overflow:hidden;min-height:62vh;display:flex;align-items:center;margin-bottom:24px;
    box-shadow:0 30px 80px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03)
  }
  /* animated gradient layers for cinematic feeling */
  .hero .bg{
    position:absolute;inset:0;z-index:0;pointer-events:none;overflow:hidden;
    background:
      linear-gradient(180deg, rgba(2,6,23,0.45) 0%, rgba(2,6,23,0.20) 40%, rgba(2,6,23,0.60) 100%);
  }
  .shape {
    position:absolute; border-radius:40%; filter:blur(60px); opacity:0.42; transform: translateZ(0);
  }
  .shape.a{ width:520px;height:520px; background:radial-gradient(circle at 30% 30%, rgba(255,90,95,0.18), rgba(255,90,95,0.06)); left:-10%; top:-15%;}
  .shape.b{ width:420px;height:420px; background:radial-gradient(circle at 70% 70%, rgba(255,138,95,0.14), rgba(255,138,95,0.04)); right:-8%; bottom:-8%;}
  /* animated subtle motion */
  @keyframes floaty { 0% { transform:translateY(0) } 50% { transform:translateY(-12px) } 100% { transform:translateY(0) } }
  .shape.a{ animation: floaty 7s ease-in-out infinite }
  .shape.b{ animation: floaty 9s ease-in-out infinite }

  .hero .content{position:relative;z-index:2;padding:40px;display:flex;align-items:center;justify-content:space-between;gap:20px}
  .hero-left{max-width:720px}
  .eyebrow{color:var(--accent-1);font-weight:800;letter-spacing:.6px;font-size:13px}
  .headline{font-size:36px;line-height:1.02;margin:8px 0}
  .lead{color:var(--muted);margin-bottom:14px}
  .hero-right{width:360px;min-width:260px}
  .hero-card{border-radius:12px;overflow:hidden;height:220px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:center}
  .hero-card svg{width:100%;height:100%;display:block}

  /* parallax variable applied by JS */
  .parallax { transform: translateY(var(--py,0px)); transition: transform .12s linear }

  /* =========================
     page sections: reuse .section
     ========================= */
  .section{background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); border-radius:12px; padding:18px; border:1px solid rgba(255,255,255,0.03); margin-bottom:18px}
  .two-col{display:grid; grid-template-columns:1fr 420px; gap:18px}
  .services{display:grid;grid-template-columns:repeat(3,1fr); gap:12px; margin-top:12px}
  .service-card{background:rgba(255,255,255,0.02); padding:12px;border-radius:10px; border:1px solid rgba(255,255,255,0.02)}
  .service-card h4{margin:6px 0}

  /* counters */
  .counters{display:flex;gap:12px;margin-top:12px}
  .counter{background:rgba(255,255,255,0.02);padding:10px 14px;border-radius:10px;text-align:center;min-width:110px}
  .counter .num{font-weight:800;font-size:18px}
  .counter .label{color:var(--muted);font-size:13px}

  /* testimonials */
  .test-wrap{position:relative; overflow:hidden}
  .test-list{display:flex;gap:12px;transition:transform .6s cubic-bezier(.2,.9,.2,1)}
  .test-card{min-width:100%; box-sizing:border-box}
  .quote{background:rgba(255,255,255,0.02); padding:18px; border-radius:10px; border:1px solid rgba(255,255,255,0.03)}

  /* search & controls */
  .controls{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
  .search{display:flex;gap:8px;align-items:center;padding:8px 12px;border-radius:999px;background:var(--glass);border:1px solid rgba(255,255,255,0.03)}
  .search input{background:transparent;border:0;outline:0;color:inherit}

  /* gallery: masonry with inline svg thumbnails */
  .masonry{column-count:3;column-gap:16px}
  .card{display:inline-block;width:100%;margin:0 0 16px;border-radius:12px;overflow:hidden;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);border:1px solid rgba(255,255,255,0.03)}
  .media{position:relative; width:100%; overflow:hidden; background:#071018}
  .svg-thumb{width:100%; display:block}
  .label{position:absolute;left:10px;bottom:10px;background:linear-gradient(90deg, rgba(0,0,0,0.55), rgba(0,0,0,0.2));padding:6px 8px;border-radius:8px;font-weight:700;color:#fff}
  .meta{padding:12px;display:flex;justify-content:space-between;align-items:center}
  .chip{background:rgba(255,255,255,0.02); padding:6px 10px;border-radius:999px;font-size:12px;color:var(--muted);border:1px solid rgba(255,255,255,0.02)}
  .hover-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(0,0,0,0),rgba(0,0,0,0.32));opacity:0;transition:opacity .18s}
  .card:hover .hover-overlay{opacity:1}
  .play-circle{width:56px;height:56px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));box-shadow:0 12px 26px rgba(255,90,95,0.12)}

  /* load more & CTA & back to top */
  .load-more{display:block;margin:10px auto;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);cursor:pointer}
  .float-cta{position:fixed;right:18px;bottom:86px;z-index:2000;padding:10px 12px;border-radius:12px;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#071018;font-weight:700;cursor:pointer;box-shadow:0 18px 50px rgba(2,6,23,0.6)}
  .back-top{position:fixed;right:18px;bottom:18px;z-index:2000;display:none;width:56px;height:56px;border-radius:12px;background:rgba(255,255,255,0.06);display:grid;place-items:center;cursor:pointer}
  .back-top.show{display:grid}

  /* contact */
  .contact-grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  .form input,.form textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.012);color:inherit;outline:none;font-size:14px}
  .form textarea{min-height:140px;resize:vertical}
  .form .actions{display:flex;gap:8px;margin-top:10px}

  /* lightbox overlay */
  .overlay{position:fixed;inset:0;display:none;place-items:center;background:linear-gradient(180deg,rgba(2,6,23,0.88),rgba(2,6,23,0.95));z-index:4000;padding:18px}
  .overlay.show{display:grid}
  .player{width:100%;max-width:1100px;border-radius:12px;background:#000;overflow:hidden}
  .player iframe{width:100%;height:64vh;border:0}

  /* reveal */
  .reveal{opacity:0;transform:translateY(18px);transition:opacity .6s ease,transform .6s cubic-bezier(.2,.9,.2,1)}
  .reveal.show{opacity:1;transform:none}

  /* responsive */
  @media (max-width:1100px){ .masonry{column-count:2} .two-col{grid-template-columns:1fr} .services{grid-template-columns:repeat(2,1fr)} .contact-grid{grid-template-columns:1fr} .hero-right{display:none} }
  @media (max-width:700px){ .masonry{column-count:1} header{padding:8px 0} .hero{min-height:48vh} .overlay .player iframe{height:48vh} .float-cta{right:12px;bottom:78px} .back-top{right:12px;bottom:18px} }
</style>
</head>
<body>
  <div class="progress" id="progress" aria-hidden="true"></div>

  <!-- Loader (Cinematic) -->
  <div id="loader" role="status" aria-live="polite">
    <div class="inner" style="text-align:center">
      <div class="loader-square">EK</div>
      <div style="text-align:left;margin-left:10px">
        <div class="loader-text">Editkaro.in</div>
        <div class="loader-sub">creative editing & social growth</div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <div class="wrap">
    <header id="header">
      <div class="brand">
        <div class="logo" aria-hidden>EK</div>
        <div>
          <div class="title">Editkaro.in</div>
          <div class="muted" style="font-size:13px">Video edits • Social content • Ads</div>
        </div>
      </div>

      <nav>
        <button class="nav-btn" onclick="scrollToSection('#hero')">Home</button>
        <button class="nav-btn" onclick="scrollToSection('#work')">Work</button>
        <button class="nav-btn" onclick="scrollToSection('#contact')">Contact</button>
        <button class="cta" onclick="scrollToSection('#contact')">Let’s Work Together</button>
      </nav>
    </header>
  </div>

  <!-- HERO -->
  <section id="hero" class="hero parallax reveal" style="--py:0px">
    <div class="bg">
      <div class="shape a" aria-hidden></div>
      <div class="shape b" aria-hidden></div>
    </div>

    <div class="content wrap">
      <div style="display:flex;align-items:flex-start;gap:28px;width:100%">
        <div class="hero-left">
          <div class="eyebrow">FEATURED</div>
          <h2 class="headline">We craft scroll-stopping edits that get attention.</h2>
          <p class="lead muted">Short-form reels, product ads, gaming montages, and cinematic grading tuned for social platforms.</p>

          <div style="display:flex;gap:12px;align-items:center">
            <button class="cta" id="featuredPlay">Play Featured</button>
            <button class="nav-btn" onclick="scrollToSection('#work')">Browse work</button>
            <button class="nav-btn" onclick="scrollToSection('#contact')">Get quote</button>
          </div>

          <div class="counters" style="margin-top:14px">
            <div class="counter"><div class="num" data-target="420">0</div><div class="label">Projects</div></div>
            <div class="counter"><div class="num" data-target="130">0</div><div class="label">Clients</div></div>
            <div class="counter"><div class="num" data-target="12">0</div><div class="label">Platforms</div></div>
          </div>
        </div>

        <div class="hero-right">
          <div class="hero-card" aria-hidden>
            <!-- inline SVG "thumbnail" — no external images -->
            <svg class="svg-thumb" viewBox="0 0 800 450" preserveAspectRatio="xMidYMid slice" role="img" aria-label="Featured thumbnail">
              <defs>
                <linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#ff5a5f"/><stop offset="1" stop-color="#ff8a5f"/></linearGradient>
              </defs>
              <rect width="100%" height="100%" fill="#071018"/>
              <g transform="translate(40,40)">
                <rect width="720" height="370" rx="12" fill="url(#g1)" opacity="0.08"/>
                <text x="360" y="200" text-anchor="middle" fill="#fff" font-family="Inter,Arial" font-weight="700" font-size="30">Featured — Play</text>
                <circle cx="360" cy="240" r="34" fill="#fff" opacity="0.08"/>
                <path d="M340 228 L340 256 L364 242 Z" fill="#fff"/>
              </g>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main content -->
  <div class="wrap content">
    <!-- About + quick stats -->
    <section class="section two-col reveal">
      <div>
        <h3 style="margin:0 0 8px">About Editkaro</h3>
        <p class="muted">Editkaro is a creative studio focused on short-form content and marketing-led video edits. We deliver platform-ready assets with fast turnarounds and clear deliverables.</p>

        <div style="margin-top:12px">
          <strong>What we do</strong>
          <ul class="muted">
            <li>Short-form edits for Reels, Shorts, TikTok</li>
            <li>E-commerce & product ads</li>
            <li>Gaming montages, VFX trims, and color grading</li>
          </ul>
        </div>
      </div>

      <aside>
        <h4 style="margin:0 0 8px">Quick stats</h4>
        <div class="muted">Fast turnarounds, platform expertise, and measurable engagement gains.</div>
        <div style="margin-top:12px" class="counters">
          <div class="counter"><div class="num" data-target="15">0</div><div class="label">Avg turnaround (days)</div></div>
          <div class="counter"><div class="num" data-target="98">0</div><div class="label">Client satisfaction %</div></div>
        </div>
      </aside>
    </section>

    <!-- Services -->
    <section class="section reveal">
      <h3 style="margin:0 0 8px">Services</h3>
      <div class="services">
        <div class="service-card">
          <div style="font-weight:800;color:var(--accent-1)">Video Editing</div>
          <h4>Short & long form</h4>
          <p class="muted">Hooks, pacing, color and motion polish for platform-native content.</p>
        </div>
        <div class="service-card">
          <div style="font-weight:800;color:var(--accent-1)">Social Marketing</div>
          <h4>Creative strategy</h4>
          <p class="muted">Caption ideas, thumbnail concepts, and hook testing to boost watch time.</p>
        </div>
        <div class="service-card">
          <div style="font-weight:800;color:var(--accent-1)">Ads & E-com</div>
          <h4>Conversion-focused</h4>
          <p class="muted">Product reveals, short ad cuts, and CRO-led messaging.</p>
        </div>
      </div>
    </section>

    <!-- Testimonials -->
    <section class="section reveal">
      <h3 style="margin:0 0 8px">What clients say</h3>
      <div class="test-wrap" id="tests">
        <div class="test-list" id="testList">
          <div class="test-card quote">
            <div style="font-weight:800">Fast, creative and easy to work with.</div>
            <div class="muted" style="margin-top:8px">Editkaro delivered 10+ short ads for our launches — engagement jumped 38% week over week.</div>
            <div style="margin-top:10px;font-weight:700">— Priya S., Growth Lead</div>
          </div>
          <div class="test-card quote">
            <div style="font-weight:800">They understand social.</div>
            <div class="muted" style="margin-top:8px">Tight edits and bold hooks — our channel growth improved within two weeks.</div>
            <div style="margin-top:10px;font-weight:700">— Rohit K., Founder</div>
          </div>
          <div class="test-card quote">
            <div style="font-weight:800">Reliable and high quality.</div>
            <div class="muted" style="margin-top:8px">Turnarounds are fast, exports are always platform-ready.</div>
            <div style="margin-top:10px;font-weight:700">— Ananya P., Head of Marketing</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Controls + gallery -->
    <section class="reveal">
      <div class="controls" id="controlsTop">
        <div style="display:flex;gap:12px;align-items:center;flex-wrap:wrap">
          <div class="search" role="search" aria-label="Search videos">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.4"/></svg>
            <input id="search" placeholder="Search title or tag" />
          </div>
          <div class="muted">Showing <strong id="count">0</strong> projects</div>
        </div>
        <div id="filters" class="muted" aria-hidden style="display:flex;gap:8px;flex-wrap:wrap"></div>
      </div>

      <div id="work" class="masonry" aria-live="polite" style="margin-top:12px"></div>
      <button id="loadMore" class="load-more">Load more</button>
    </section>

    <!-- Contact -->
    <section id="contact" class="section reveal">
      <h3 style="margin:0 0 8px">Contact</h3>
      <div style="display:flex;gap:18px;flex-wrap:wrap">
        <div style="flex:1;min-width:220px">
          <p class="muted">Tell us about your project: platform, length, timeline and budget. We'll reply with next steps and a pricing outline.</p>
          <div style="margin-top:10px;color:var(--muted)">Email: hello@editkaro.in • Instagram: @editkaro.in</div>
        </div>

        <div style="flex:1;min-width:320px;max-width:720px">
          <form id="contactForm" class="form" method="POST" action="https://formspree.io/f/your-form-id" onsubmit="return handleSubmit(event)">
            <div style="display:grid;gap:10px">
              <input type="text" id="name" name="name" placeholder="Your name" required />
              <input type="email" id="email" name="email" placeholder="you@example.com" required />
              <input type="text" id="subject" name="subject" placeholder="Subject (brief)" />
              <textarea id="message" name="message" placeholder="Project details, timeline, budget..." required></textarea>
              <div class="actions">
                <button type="submit" class="cta">Send message</button>
                <button type="button" class="nav-btn" onclick="clearForm()">Clear</button>
              </div>
              <div id="formStatus" class="muted" style="font-size:13px;margin-top:6px"></div>
            </div>
          </form>
        </div>
      </div>
    </section>

    <footer style="color:var(--muted);text-align:center;padding:18px 0">© Editkaro.in — Portfolio demo</footer>
  </div>

  <!-- Floating CTA & back-to-top -->
  <button id="floatCTA" class="float-cta" title="Contact">Let’s Work Together</button>
  <button id="backTop" class="back-top" title="Back to top" aria-label="Back to top">↑</button>

  <!-- Project lightbox (YouTube embed on demand) -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="player" role="document">
      <iframe id="playerFrame" title="Video player" allow="autoplay; fullscreen; encrypted-media" src=""></iframe>
    </div>
  </div>

<script>
/* ========================================
   Single-file portfolio JS (no external assets)
   - Minimal, performant, accessible
   ======================================== */

/* ---------- sample gallery data (YouTube IDs) ---------- */
/* Replace or reorder IDs as needed */
const VIDEOS = [
  { id:'wJhWL6Pqw1Y', title:'How to Edit Photos with WhatsApp', category:'Tutorial', tags:['photo','whatsapp'], duration:'5:23', role:'Editor', tools:'Photoshop, Premiere' },
  { id:'y1wXziJebmE', title:'EditKaro.in Portfolio Website', category:'Website', tags:['portfolio','vault'], duration:'3:45', role:'Editor', tools:'Premiere' },
  { id:'Wq9dDHsd3bI', title:'Mobile Video Editing Tutorial', category:'Tutorial', tags:['mobile','editing'], duration:'7:12', role:'Editor', tools:'CapCut' },
  { id:'a2XvFsmK6nA', title:'Gaming Montage Edit', category:'Gaming', tags:['montage','action'], duration:'1:02', role:'Editor', tools:'Premiere,AE' },
  { id:'bQ8rkTxPfTs', title:'Football Edit', category:'Football', tags:['sports'], duration:'0:54', role:'Editor', tools:'Premiere' },
  { id:'kEr6yH4qDVE', title:'E-Commerce Product Promo', category:'eCommerce', tags:['ad','product'], duration:'0:38', role:'Editor', tools:'Premiere' },
  { id:'ZXyE2hm8jyk', title:'Cinematic Color Grading', category:'Color Grading', tags:['color','cinematic'], duration:'2:24', role:'Colorist', tools:'DaVinci' },
  { id:'7cT8_PASnSM', title:'Anime Style Edit', category:'Anime', tags:['anime','sync'], duration:'0:42', role:'Editor', tools:'AE' }
];
const CATEGORIES = ['All','Tutorial','Website','Gaming','Football','eCommerce','Color Grading','Anime'];

/* ---------- DOM refs ---------- */
const progress = document.getElementById('progress');
const header = document.getElementById('header');
const loader = document.getElementById('loader');
const filtersEl = document.getElementById('filters');
const galleryEl = document.getElementById('work');
const countEl = document.getElementById('count');
const searchInput = document.querySelector('#search');
const loadMoreBtn = document.getElementById('loadMore');
const floatCTA = document.getElementById('floatCTA');
const backTop = document.getElementById('backTop');
const overlay = document.getElementById('overlay');
const playerFrame = document.getElementById('playerFrame');
const featuredPlay = document.getElementById('featuredPlay');
const hero = document.querySelector('.parallax');
const testList = document.getElementById('testList');
const loaderInner = document.querySelector('#loader .inner');

/* ---------- small helpers ---------- */
function escapeHtml(s){ return (s||'').replace(/[&<>"'`]/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;','`':'&#96;'})[m]); }
function scrollToSection(selector){ const el = document.querySelector(selector); if(!el) return; el.scrollIntoView({behavior:'smooth', block:'start'}); }

/* ---------- page load: simple cinematic loader ---------- */
function initLoader(){
  // animate loader (small stagger) then hide
  loaderInner.style.opacity = '1';
  setTimeout(()=> {
    loader.classList.add('hidden');
    setTimeout(()=> loader.remove(), 600);
  }, 700);
}
initLoader();

/* ---------- header scroll behavior & progress ---------- */
function onScroll(){
  const y = window.scrollY;
  if(y > 20) header.classList.add('scrolled'); else header.classList.remove('scrolled');
  const docH = document.documentElement.scrollHeight - window.innerHeight;
  const pct = docH ? (y / docH) * 100 : 0;
  progress.style.width = pct + '%';
  // back-to-top after 45% viewport
  backTop.classList.toggle('show', pct > 45);

  // parallax weak
  if(hero) {
    const val = Math.min(Math.max(y * 0.06, -20), 46);
    hero.style.setProperty('--py', val + 'px');
  }
}
window.addEventListener('scroll', onScroll, {passive:true});
onScroll();

/* ---------- build category filters ---------- */
let activeCategory = 'All';
function buildFilters(){
  filtersEl.innerHTML = '';
  CATEGORIES.forEach(cat => {
    const btn = document.createElement('button');
    btn.className = 'nav-btn';
    btn.textContent = cat;
    if(cat === 'All') btn.classList.add('active');
    btn.addEventListener('click', () => {
      document.querySelectorAll('#filters .nav-btn').forEach(n=>n.classList.remove('active'));
      btn.classList.add('active');
      activeCategory = cat;
      displayCount = 6;
      renderGallery(true);
    });
    filtersEl.appendChild(btn);
  });
}
buildFilters();

/* ---------- gallery: masonry with inline SVG thumbs ----------
   Notes:
   - thumbnails are inline SVG placeholders (no external images)
   - preview/play uses YouTube embed only on click (keeps page fast)
*/
let displayCount = 6;
const CHUNK = 4;
let searchQuery = '';

function makeThumbSVG(title, id, colorA='#ff5a5f', colorB='#ff8a5f'){
  // an inline thumbnail SVG string (keeps visuals inside code)
  const t = escapeHtml(title);
  return `
    <svg class="svg-thumb" viewBox="0 0 800 450" preserveAspectRatio="xMidYMid slice" xmlns="http://www.w3.org/2000/svg" role="img">
      <defs>
        <linearGradient id="g${id}" x1="0" x2="1">
          <stop offset="0" stop-color="${colorA}"/><stop offset="1" stop-color="${colorB}"/>
        </linearGradient>
      </defs>
      <rect width="100%" height="100%" fill="#071018"/>
      <g transform="translate(40,40)">
        <rect width="720" height="370" rx="12" fill="url(#g${id})" opacity="0.08"/>
        <text x="360" y="200" text-anchor="middle" fill="#fff" font-family="Inter,Arial" font-weight="700" font-size="22">${t}</text>
        <circle cx="360" cy="250" r="28" fill="#fff" opacity="0.08"/>
        <path d="M346 238 L346 262 L366 250 Z" fill="#fff"/>
      </g>
    </svg>`;
}

function createCard(v, i){
  const art = document.createElement('article');
  art.className = 'card reveal';
  const height = [220,260,180,300,210][i % 5];
  const svg = makeThumbSVG(v.title, v.id.replace(/[^a-zA-Z0-9]/g,''), '#ff5a5f','#ff8a5f');
  art.innerHTML = `
    <div class="media" style="height:${height}px">
      ${svg}
      <div class="hover-overlay" aria-hidden="true"><div class="play-circle" title="Play"></div></div>
      <div class="label">${escapeHtml(v.category)} • ${escapeHtml(v.duration)}</div>
    </div>
    <div class="meta"><div style="max-width:70%"><div style="font-weight:700">${escapeHtml(v.title)}</div></div><div style="color:var(--muted);font-size:13px">View</div></div>
    <div class="chips">${(v.tags||[]).slice(0,3).map(t=>`<span class="chip">${escapeHtml(t)}</span>`).join('')}</div>
  `;
  // click -> open lightbox with YouTube embed
  art.addEventListener('click', ()=> openLightbox(v));
  art.tabIndex = 0;
  art.addEventListener('keydown', e=> { if(e.key === 'Enter' || e.key === ' ') openLightbox(v); });
  return art;
}

function renderGallery(reset=false){
  const q = (searchQuery || '').trim().toLowerCase();
  const filtered = VIDEOS.filter(v => {
    const inCat = activeCategory === 'All' || v.category.toLowerCase() === activeCategory.toLowerCase();
    const inQ = !q || v.title.toLowerCase().includes(q) || (v.tags||[]).join(' ').toLowerCase().includes(q);
    return inCat && inQ;
  });
  countEl.textContent = filtered.length;
  const display = filtered.slice(0, displayCount);
  if(reset) galleryEl.innerHTML = '';
  galleryEl.innerHTML = '';
  display.forEach((v,i)=> galleryEl.appendChild(createCard(v,i)));
  loadMoreBtn.style.display = (filtered.length > displayCount) ? 'block' : 'none';
  // reveal stagger
  setTimeout(()=> document.querySelectorAll('.reveal').forEach((el,i)=> setTimeout(()=> el.classList.add('show'), i*60)), 60);
}
renderGallery(true);

loadMoreBtn.addEventListener('click', ()=> { displayCount += CHUNK; renderGallery(); });
searchInput.addEventListener('input', (e)=> { searchQuery = e.target.value; displayCount = 6; renderGallery(true); });

/* ---------- project lightbox: inject YouTube iframe on demand ---------- */
function openLightbox(v){
  overlay.classList.add('show');
  overlay.setAttribute('aria-hidden','false');
  playerFrame.src = `https://www.youtube.com/embed/${v.id}?autoplay=1&rel=0&modestbranding=1`;
  document.body.style.overflow = 'hidden';
}
function closeLightbox(){ overlay.classList.remove('show'); overlay.setAttribute('aria-hidden','true'); playerFrame.src = ''; document.body.style.overflow = ''; }
overlay.addEventListener('click', e=> { if(e.target === overlay) closeLightbox(); });
document.addEventListener('keydown', e=> { if(e.key === 'Escape') closeLightbox(); });

/* featured play button opens first video */
featuredPlay.addEventListener('click', ()=> { if(VIDEOS[0]) openLightbox(VIDEOS[0]); });

/* ---------- counters: animate when visible ---------- */
function animateCounters(){
  document.querySelectorAll('.num').forEach(el=>{
    if(el.dataset.done) return;
    const r = el.getBoundingClientRect();
    if(r.top < window.innerHeight - 80){
      const target = parseInt(el.dataset.target || '0',10);
      const dur = 1200;
      const startT = performance.now();
      el.dataset.done = '1';
      const step = (t)=> {
        const p = Math.min((t - startT)/dur, 1);
        const val = Math.floor(target * easeOutQuad(p));
        el.textContent = val;
        if(p < 1) requestAnimationFrame(step); else el.textContent = String(target);
      };
      requestAnimationFrame(step);
    }
  });
}
function easeOutQuad(x){ return 1 - (1-x)*(1-x); }
window.addEventListener('scroll', animateCounters);
animateCounters();

/* ---------- testimonials auto carousel ---------- */
(function rotateTests(){
  const slides = Array.from(testList.children);
  if(!slides.length) return;
  let idx = 0;
  testList.style.transition = 'transform .6s cubic-bezier(.2,.9,.2,1)';
  setInterval(()=> {
    idx = (idx + 1) % slides.length;
    testList.style.transform = `translateX(-${idx * 100}%)`;
  }, 4200);
})();

/* ---------- back-top + floating CTA ---------- */
backTop.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));
window.addEventListener('scroll', ()=> {
  // floatCTA show after some scroll
  const pct = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
  floatCTA.style.opacity = pct > 20 ? '1' : '0'; floatCTA.style.transform = pct > 20 ? 'translateY(0)' : 'translateY(6px)';
});
floatCTA.addEventListener('click', ()=> scrollToSection('#contact'));

/* ---------- contact form (Formspree fallback to mailto) ---------- */
async function handleSubmit(e){
  e.preventDefault();
  const form = e.target;
  const status = document.getElementById('formStatus');
  status.textContent = 'Sending…';
  const action = form.getAttribute('action') || '';
  const data = new FormData(form);
  if(action.includes('formspree.io')){
    try {
      const res = await fetch(action, {method:'POST', body: data, headers:{Accept:'application/json'}});
      if(res.ok){ status.style.color = '#9be7a3'; status.textContent = 'Message sent. Thanks — we will reply shortly.'; form.reset(); }
      else { const j = await res.json(); status.style.color = '#ffb3b3'; status.textContent = j?.error || 'Error sending form.'; }
    } catch(err){ status.style.color = '#ffb3b3'; status.textContent = 'Network error. Try mail client fallback.'; }
    return false;
  }
  // fallback mailto
  const name = data.get('name')||'', email = data.get('email')||'', subject = data.get('subject')||'Project inquiry', message = data.get('message')||'';
  const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\n${message}`);
  window.location.href = `mailto:hello@editkaro.in?subject=${encodeURIComponent(subject)}&body=${body}`;
  status.textContent = 'Opened your mail client — if it did not open, email hello@editkaro.in';
  return false;
}
function clearForm(){ document.getElementById('contactForm').reset(); document.getElementById('formStatus').textContent=''; }

/* ---------- reveal on scroll (IntersectionObserver) ---------- */
const io = new IntersectionObserver((entries)=>{
  entries.forEach(ent => {
    if(ent.isIntersecting) ent.target.classList.add('show');
  });
}, {threshold: 0.12});
document.querySelectorAll('.reveal').forEach(el => io.observe(el));

/* ---------- small init ---------- */
(function init(){
  // minimal loader timeout already set; animate hero intro
  setTimeout(()=> {
    document.querySelectorAll('.reveal').forEach((el,i)=> setTimeout(()=> el.classList.add('show'), i*90));
  }, 700);

  // initial gallery build
  renderGallery(true);

  // update progress & parallax initial
  onScroll();
  // animate loader removal
  setTimeout(()=> { if(loader) { loader.classList.add('hidden'); setTimeout(()=> loader.remove(), 650); } }, 900);
})();

/* keyboard: close lightbox on esc */
document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') closeLightbox(); });

</script>
</body>
</html>
